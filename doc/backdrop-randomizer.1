.\" Text automatically generated by txt2man
.TH backdrop-randomizer  "23 May 2020" "" ""
.SH NAME
\fBbackdrop-randomizer \fP- Companion for xfdesktop which randomly cycles through wallpapers without repeating them until all have been displayed once.
\fB
.SH DESCRIPTION
Backdrop-randomizer (bdr) will randomly select a picture from your database of pics to display without repeating one until all have been shown. When backdrop-randomizer sees you have only one pic left in your list, it regenerates the list and continues to cycle. The net effect is an endless rotation of your pics without a repeat.
.SH WHY USE BDR
Xfdesktop has a gap currently: it does not keep track of which images in a list are displayed as "backdrops" to the DE. The result is that some images in a list get displayed frequently while others are rarely displayed. A more robust implementation of the random background feature should randomly display an image in the list and not repeat it until all list members have been displayed at least once.
.SH SYNOPSIS
.nf
.fam C
\fBbackdrop-randomizer\fP [\fIoption\fP]

.fam T
.fi
.fam T
.fi
.SH OPTIONS
.TP
.B
r
Select a pic at random from the database.
.TP
.B
s
Display database stats.
.TP
.B
l
List all pics in the database.
.TP
.B
a
Add the next token to the database.
.TP
.B
c
Clear the database and start anew.
.SH SETUP AND USAGE
.IP 1. 4
Run bdr with no tokens and it will create a config file if needed ($XDG_HOME_CONFIG/backdrop-randomizer.conf) which you should edit per the annotations therein.
.IP 2. 4
Run bdr again to create your database and setup your symlink.
.IP 3. 4
Right-click the xfce4 desktop and select Desktop Settings>Background>Single Image and locate the symlink (default location is $XDG_HOME_CONFIG/backdrop-randomizer.jpg).
.SH CHANGING BACKDROPS
To change backdrops, simply call bdr with the R \fIoption\fP via the included systemd user service or by a traditional cronjob at the desired interval.
.PP
Users of systemd may use the included user service that will change backdrops once every 20 minutes:
.PP
.nf
.fam C
  systemctl --user enable bdr
  systemctl --user start bdr

.fam T
.fi
Status of the service and of the timer can be queried like so:
.PP
.nf
.fam C
  systemctl --user status bdr
  systemctl --user list-timers

.fam T
.fi
Cron users can add an entry their crontab:
.PP
.nf
.fam C
        */20 * * * * /usr/bin/backdrop-randomizer R &>/dev/null

.fam T
.fi
.SH ADDING PICS TO THE DATABASE
To add a pic to the database without recreating it, simply call the script with the 'A' function followed by the file name to add.
.PP
Example:
\fBbackdrop-randomizer\fP a newpic.jpg
.PP
To add an entire directory of pics, combine with a find command:
find \fB-L\fP /path/to/pics \fB-type\fP f | xargs \fB-n1\fP bdr a
.PP
To only add pics in the directory that are 3 days old (or newer):
find \fB-L\fP /path/to/pics \fB-type\fP f \fB-mtime\fP \fB-3\fP | xargs \fB-n1\fP bdr a
.SH WHAT ELSE
Should you be running xscreensaver or xlock, \fBbackdrop-randomizer\fP will not rotate your pics if the either is active. This is automatically detected and implemented.
.SH CONTRIBUTE
Should you wish to contribute to this code, please fork and send a pull request. Source is freely available on github: https://github.com/graysky2/\fBbackdrop-randomizer\fP
.SH BUGS
No known bugs.
.SH AUTHOR
graysky (graysky AT archlinux DOT us)
